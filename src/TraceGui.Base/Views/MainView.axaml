<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:TraceGui.ViewModels"
             xmlns:views="clr-namespace:TraceGui.Views"
             mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="650"
             x:Class="TraceGui.Views.MainView"
             x:CompileBindings="True" x:DataType="vm:MainWindowViewModel"
             DragDrop.AllowDrop="True">
  <Design.DataContext>
    <vm:MainWindowViewModel />
  </Design.DataContext>
  <UserControl.KeyBindings>
    <KeyBinding Command="{Binding OpenCommand}" Gesture="Ctrl+O" />
    <KeyBinding Command="{Binding SaveCommand}" Gesture="Ctrl+S" />
  </UserControl.KeyBindings>
  <UserControl.Resources>
    <StreamGeometry x:Key="OpenIcon">M28.5469 23.9531L26 21.4219L26 32L24 32L24 21.4219L21.4531 23.9531L20.0469 22.5469L25 17.5938L29.9531 22.5469L28.5469 23.9531ZM2 30L22 30L22 32L0 32L0 0L17.4219 0L26 8.57813L26 16L24 16L24 10L16 10L16 2L2 2L2 30ZM18 8L22.5781 8L18 3.42188L18 8Z</StreamGeometry>
    <StreamGeometry x:Key="SaveIcon">M26 0Q26.4219 3.8147e-06 26.7813 0.15625Q27.1406 0.312502 27.4141 0.585938Q27.6875 0.859377 27.8438 1.21875Q28 1.57813 28 2L28 28L3.57813 28L0 24.4063L0 2Q0 1.57813 0.15625 1.21875Q0.3125 0.859377 0.585938 0.585938Q0.859375 0.3125 1.21875 0.15625Q1.57813 3.8147e-06 2 0L26 0ZM6 12L22 12L22 2L6 2L6 12ZM18 20L8 20L8 26L10 26L10 22L12 22L12 26L18 26L18 20ZM26 2L24 2L24 14L4 14L4 2L2 2L2 23.5781L4.40625 26L6 26L6 18L20 18L20 26L26 26L26 2Z</StreamGeometry>
    <StreamGeometry x:Key="AddIcon">M32 15L32 17L17 17L17 32L15 32L15 17L0 17L0 15L15 15L15 0L17 0L17 15L32 15Z</StreamGeometry>
    <StreamGeometry x:Key="DeleteIcon">M26 6L24 6L24 29Q24 29.625 23.7656 30.1719Q23.5313 30.7188 23.125 31.125Q22.7188 31.5313 22.1719 31.7656Q21.625 32 21 32L5 32Q4.375 32 3.82813 31.7656Q3.28125 31.5313 2.875 31.125Q2.46875 30.7188 2.23438 30.1719Q2 29.625 2 29L2 6L0 6L0 4L8 4L8 2Q8 1.57813 8.15625 1.21875Q8.3125 0.859377 8.58594 0.585938Q8.85937 0.312504 9.21875 0.15625Q9.57813 0 10 0L16 0Q16.4219 0 16.7813 0.15625Q17.1406 0.312502 17.4141 0.585938Q17.6875 0.859377 17.8438 1.21875Q18 1.57813 18 2L18 4L26 4L26 6ZM10 4L16 4L16 2L10 2L10 4ZM22 6L4 6L4 29Q4 29.4063 4.29688 29.7031Q4.59375 30 5 30L21 30Q21.4062 30 21.7031 29.7031Q22 29.4063 22 29L22 6ZM10 26L8 26L8 10L10 10L10 26ZM14 26L12 26L12 10L14 10L14 26ZM18 26L16 26L16 10L18 10L18 26Z</StreamGeometry>
    <StreamGeometry x:Key="SettingsIcon">M27.7656 15.3438Q27.7656 15.4844 27.7734 15.625Q27.7812 15.7656 27.7813 15.9063Q27.7813 16.0469 27.7734 16.1875Q27.7656 16.3281 27.7656 16.4688L31.8125 18.9844L29.3281 24.9688L24.6875 23.9063Q24.3125 24.3125 23.9063 24.6875L24.9688 29.3281L18.9844 31.8125L16.4688 27.7656Q16.3281 27.7656 16.1875 27.7734Q16.0469 27.7813 15.9063 27.7813Q15.7656 27.7813 15.625 27.7734Q15.4844 27.7656 15.3438 27.7656L12.8281 31.8125L6.84375 29.3281L7.90625 24.6875Q7.5 24.3125 7.125 23.9063L2.48438 24.9688L0 18.9844L4.04688 16.4688Q4.04688 16.3281 4.03906 16.1875Q4.03125 16.0469 4.03125 15.9063Q4.03125 15.7656 4.03906 15.625Q4.04687 15.4844 4.04688 15.3438L0 12.8281L2.48438 6.84375L7.125 7.90625Q7.5 7.5 7.90625 7.125L6.84375 2.48438L12.8281 0L15.3438 4.04688Q15.4844 4.04688 15.625 4.03906Q15.7656 4.03125 15.9063 4.03125Q16.0469 4.03125 16.1875 4.03906Q16.3281 4.04688 16.4688 4.04688L18.9844 0L24.9688 2.48438L23.9063 7.125Q24.3125 7.5 24.6875 7.90625L29.3281 6.84375L31.8125 12.8281L27.7656 15.3438ZM25.9375 17.375Q25.9687 17 26 16.6328Q26.0312 16.2656 26.0313 15.8906Q26.0313 15.5313 26 15.1563Q25.9687 14.7813 25.9375 14.4219L29.625 12.125L28.2813 8.875L24.0469 9.85938Q23.5625 9.26563 23.0547 8.76563Q22.5469 8.26563 21.9531 7.76563L22.9375 3.53125L19.6875 2.1875L17.375 5.875Q17.0156 5.84375 16.6406 5.8125Q16.2656 5.78125 15.9063 5.78125Q15.5313 5.78125 15.1641 5.8125Q14.7969 5.84375 14.4219 5.875L12.125 2.1875L8.875 3.53125L9.85938 7.76563Q9.26562 8.25 8.76563 8.75781Q8.26562 9.26563 7.76563 9.85938L3.53125 8.875L2.1875 12.125L5.875 14.4375Q5.84375 14.8125 5.8125 15.1797Q5.78125 15.5469 5.78125 15.9219Q5.78125 16.2813 5.8125 16.6563Q5.84375 17.0313 5.875 17.3906L2.1875 19.6875L3.53125 22.9375L7.76563 21.9531Q8.25 22.5469 8.75781 23.0469Q9.26562 23.5469 9.85938 24.0469L8.875 28.2813L12.125 29.625L14.4375 25.9375Q14.7969 25.9688 15.1719 26Q15.5469 26.0313 15.9063 26.0313Q16.2813 26.0313 16.6484 26Q17.0156 25.9688 17.3906 25.9375L19.6875 29.625L22.9375 28.2813L21.9531 24.0469Q22.5469 23.5625 23.0469 23.0547Q23.5469 22.5469 24.0469 21.9531L28.2813 22.9375L29.625 19.6875L25.9375 17.375ZM15.9063 10.0313Q17.125 10.0313 18.1953 10.4922Q19.2656 10.9531 20.0625 11.75Q20.8594 12.5469 21.3203 13.6172Q21.7813 14.6875 21.7813 15.9063Q21.7813 17.125 21.3203 18.1953Q20.8594 19.2656 20.0625 20.0625Q19.2656 20.8594 18.1953 21.3203Q17.125 21.7813 15.9063 21.7813Q14.6875 21.7813 13.6172 21.3203Q12.5469 20.8594 11.75 20.0625Q10.9531 19.2656 10.4922 18.1953Q10.0313 17.125 10.0313 15.9063Q10.0313 14.6875 10.4922 13.6172Q10.9531 12.5469 11.75 11.75Q12.5469 10.9531 13.6172 10.4922Q14.6875 10.0313 15.9063 10.0313ZM15.9063 20.0313Q16.7656 20.0313 17.5156 19.7109Q18.2656 19.3906 18.8281 18.8281Q19.3906 18.2656 19.7109 17.5156Q20.0313 16.7656 20.0313 15.9063Q20.0313 15.0469 19.7109 14.2969Q19.3906 13.5469 18.8281 12.9844Q18.2656 12.4219 17.5156 12.1016Q16.7656 11.7813 15.9063 11.7813Q15.0469 11.7813 14.2969 12.1016Q13.5469 12.4219 12.9844 12.9844Q12.4219 13.5469 12.1016 14.2969Q11.7813 15.0469 11.7813 15.9063Q11.7813 16.7656 12.1016 17.5156Q12.4219 18.2656 12.9844 18.8281Q13.5469 19.3906 14.2969 19.7109Q15.0469 20.0313 15.9063 20.0313Z</StreamGeometry>
  </UserControl.Resources>
  <Grid ColumnDefinitions="240,Auto,*">
    <Panel Grid.Column="0">
      <ExperimentalAcrylicBorder>
        <ExperimentalAcrylicBorder.Material>
          <ExperimentalAcrylicMaterial BackgroundSource="Digger"
                                       TintColor="{DynamicResource SystemAltLowColor}"
                                       TintOpacity="1"
                                       FallbackColor="{DynamicResource SystemAltLowColor}"
                                       MaterialOpacity="0.6" />
        </ExperimentalAcrylicBorder.Material>
      </ExperimentalAcrylicBorder>
      <Grid RowDefinitions="36, Auto,*">
        <Grid Grid.Row="1" ColumnDefinitions="50*,50*" HorizontalAlignment="Stretch">
          <Button Grid.Column="0" 
                  Margin="8,0,4,0"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Command="{Binding OpenCommand}">
            <Button.Content>
              <DockPanel>
              <PathIcon Width="16" Height="16" 
                        Data="{DynamicResource OpenIcon}"
                        DockPanel.Dock="Left"/>
              <Label Content="_Open" Margin="4,0,0,0" />
              </DockPanel>
            </Button.Content>
          </Button>
          <Button Grid.Column="1" 
                  Margin="4,0,8,0"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Command="{Binding SaveCommand}" >
            <Button.Content>
              <DockPanel>
                <PathIcon Width="16" Height="16" 
                          Data="{DynamicResource SaveIcon}"
                          DockPanel.Dock="Left"/>
                <Label Content="_Save" Margin="4,0,0,0" />
              </DockPanel>
            </Button.Content>
          </Button>
        </Grid>
        <views:OptionsView DataContext="{Binding Options}" Grid.Row="2" />
      </Grid>
    </Panel>
    <DockPanel Grid.Column="2">
      <Panel Background="{DynamicResource SystemChromeMediumColor}" 
             IsHitTestVisible="False"
             Height="36"
             DockPanel.Dock="Top" />
      <views:PreviewView Background="{DynamicResource SystemChromeMediumColor}" />
    </DockPanel>
  </Grid>
</UserControl>
